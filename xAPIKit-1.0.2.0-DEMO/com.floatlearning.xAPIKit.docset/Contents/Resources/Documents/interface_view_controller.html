<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>xAPI iOS SDK: ViewController Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xAPI iOS SDK
   &#160;<span id="projectnumber">1.0.0.1</span>
   </div>
   <div id="projectbrief">Implementation of the xAPI for iOS.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ViewController Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>... </p>
<p>Now in your view controller's implementation in the viewDidLoad method, add: </p><pre class="fragment">    [[EXPAPI defaultAPI] getStatementsWithQuery:[EXPStatementQuery statementQueryWithLimit:10] delegate:self];
</pre><p>This will get the 10 latest statements from the LRS when the view loads. To see the response from the server, implement the statementsReceived: protocol method: </p><pre class="fragment">    - (void) statementsReceived:(EXPStatementsResult *)result
    {
        NSLog(@"%d statements received.", result.numberOfStatements);
        NSLog(@"Statements: %@", result.statements);
    }
</pre><p>This will print out to the log the number of statements received (should be 10) and then print out each statement received.</p>
<h2>Installing the Documentation </h2>
<p>To install the documentation, copy com.floatlearning.xAPIKit.docset to ~/Library/Developer/Shared/Documentation/DocSets. The documentation will now be available in Xcode's Organizer.</p>
<h2>Creating a PKCS12 File for Statement Signing: </h2>
<p>As of version 1.0.0 of the xAPI specification, you can now sign statements. By specifying a <a href="http://en.wikipedia.org/wiki/PKCS_â™¯12">PKCS12</a>, the SDK will create the statement signatures for you.</p>
<h3>1. Create a private key</h3>
<p>openssl genrsa 1024 &gt; private.key</p>
<h3>2. Create an X509 certificate</h3>
<p>openssl req -new -x509 -nodes -sha1 -days 73300 -key private.key -outform PEM &gt; x509.crt</p>
<p>Before creating the certificate, it will ask you a number of questions about the meta data to add to the certificate. It is recommended that you fill out these values instead of leaving them blank.</p>
<h3>3. Bundle the key and certificate into a PKCS12 file</h3>
<p>openssl pkcs12 -export -in x509.crt -inkey private.key -out bundle.p12</p>
<p>Before creating the PKCS12 file, it will ask you to set a passphrase. <b>It is STRONGLY recommended</b> that you create a passphrase <em>and</em> that the passphrase is at least 20 characters long <em>and</em> that the passphrase contains both numbers and symbols.</p>
<h2>Signing a Statement </h2>
<p><em>Note: Statement signing requires iOS 6 or newer.</em></p>
<p>Once you have your PKCS12 file, you can sign the statement. The data for the file can be loaded in from the app bundle or from a remote server. </p><pre class="fragment">NSError *error = nil;
NSData *p12 = [NSData dataWithContentsOfFile:@"filename"];
BOOL result = [statement signStatementWithPKCS12:p12 usingPassphrase:@"passphrase" error:&amp;error];
</pre><p><code>result</code> will be YES if the signature was created and added to the statement successfully. Otherwise <code>error</code> will contain the reason the signature could not be created.</p>
<p><b>Do not modify the statement after creating the signature.</b> The signature is calculated based on the current state of the statement. If you modify the statement, the signature will be invalid. If you need to change the statement, invalidate the signature and recreate it: </p><pre class="fragment">[statement invalidateSignature];
[statement signStatementWithPKCS12:p12 usingPassphrase:@"passphrase" error:&amp;error];
</pre><h3>Notes</h3>
<p>By default, the display name of the signature will be "Signature" and the description will be blank. If you wish to change these values, you may do so after signing the statement: </p><pre class="fragment">statement.signature.display = [EXPLanguageMap languageMapForCurrentLanguageWithString:@"New Display Name"];
statement.signature.description = [EXPLanguageMap languageMapForCurrentLanguageWithString:@"New Description"];
</pre><h2>For More Information: </h2>
<p>For more information regarding the xAPI, visit <a href="http://tincanapi.com/">http://tincanapi.com/</a>.</p>
<p>For more information about how to incorporate the xAPI iOS SDK into your project, check out our tutorials on our blog: <a href="http://floatlearning.com/tag/tin-can-ios-library/">http://floatlearning.com/tag/tin-can-ios-library/</a>.</p>
<p>If you've encountered a bug or have a suggestion for how we could improve the SDK, please let us know by emailing us at <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'fl'+'oat'+'le'+'arn'+'in'+'g.c'+'om'; return false;">suppo<span style="display: none;">.nosp@m.</span>rt@f<span style="display: none;">.nosp@m.</span>loatl<span style="display: none;">.nosp@m.</span>earn<span style="display: none;">.nosp@m.</span>ing.c<span style="display: none;">.nosp@m.</span>om</a>. </p>
</div></div><!-- contents -->
<hr class="footer">
<address class="footer"><small>
&copy;2015 <a href="http://floatlearning.com">Float Mobile Learning</a>
</small></address>